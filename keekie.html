<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
  <title>LifestyleByKiki</title>
  <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />
</head>
<header>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js"></script>

<script type="text/javascript">

/*<![CDATA[*/


var collections = {
  'collection-component-1': 398249865,
  'collection-component-2': 398023689,
  'collection-component-3': 398249737
};

var client = ShopifyBuy.buildClient({
  domain: 'lifestylebykiki.myshopify.com',
  apiKey: '87fe2c0aea11837b35e266b62c14b977',
  appId: '6',
});

function createComp(ui, id, collectionId) {
  return ui.createComponent('collection', {
    id: collectionId,
    node: document.getElementById(id),
    moneyFormat: '%7B%7Bamount%7D%7D%20%E0%B8%BF',
    options: {
      "product": {
        "variantId": "all",
        "contents": {
          "imgWithCarousel": false,
          "variantTitle": false,
          "description": false,
          "buttonWithQuantity": false,
          "quantity": false,
          "button": false
        },
        "styles": {
          "product": {
            "@media (min-width: 601px)": {
              "max-width": "calc(25% - 20px)",
              "margin-left": "20px",
              "margin-bottom": "50px"
            },
            "title": {
              "@media": {
                "color": "brown"
              }
            },
            "price": {
              "@media": {
                "color": "brown"
              }
            },
            "img": {
              "@media" : {
                "border": "2px solid white"

              }
            }
          }
        },
        "isButton": true,
        "buttonDestination": "modal"
      },
      "cart": {
        "contents": {
          "button": true
        },
        "styles": {
          "footer": {
            "background-color": "#ffffff"
          }
        }
      },
      "modalProduct": {
        "contents": {
          "img": false,
          "imgWithCarousel": true,
          "variantTitle": false,
          "buttonWithQuantity": true,
          "button": false,
          "quantity": false
        },
        "styles": {
          "product": {
            "@media (min-width: 601px)": {
              "max-width": "100%",
              "margin-left": "0px",
              "margin-bottom": "0px"
            }
          }
        }
      },
      "productSet": {
        "styles": {
          "products": {
            "@media (min-width: 601px)": {
              "margin-left": "-20px"
            }
          }
        },
        "events": {
          'afterRender': function(component){
            $('#loading').hide();
            $('#' + id).show();
          }
        }
      }
    }
  });
}



/*]]>*/
</script>
<link rel="stylesheet" href="css/style.css" type="text/css" media="all">

    <div class="menuholder ">
        <ul class="menu slide">
          <li><a href="http://line.me/ti/p/~keekie333" class="green">LINE: keekie333</a></li>
          <li><a href="https://www.facebook.com/lifestyleByKiki" class="blue">FB</a></li>
            <li><a href="https://www.instagram.com/earrings_lifestylebykiki/" class="red">IG</a></li>

        </ul>

    </div>

  <h1 style="font-size:26px;text-align:right;">
    <span style="font-family:comic sans ms,comic-sans-w01-regular,comic-sans-w02-regular,comic-sans-w10-regular,cursive;">
      <span style="font-size:26px;">
        <span style="letter-spacing:0em;vertical-align: middle;">
          &nbsp;@LifeStyleByKiki&nbsp;&nbsp;
        </span>
      </span>
    </span>
  </h1>

  <link rel="stylesheet" href="styles.css">

  <script src="script.js"></script>
  <div id='cssmenu'>
  <ul>
     <li id="component-1" class='active site-menu'><a id="c-1" href='#'>Items</a></li>
     <li id="component-2" class='site-menu'><a href='#'>Items 25 baht</a></li>
     <li id="component-3" class='site-menu'><a href='#'>Sets</a></li>
     <li id="login" style="float: right"><a href='#' onclick="lock.show();">Facebook Log-In</a></li>
     <li id="welcome" style="float: right;display: none"><a href='#'>Welcome <span id="nick" class="nickname"></a></span></li>
  </ul>
  </div>

  <div id='loading' align="center">
    <div class="lds-css ng-scope">
      <div style="width:100%;height:100%" class="lds-bars">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </div>

  <script>
      window.intergramId = "410125989";
      window.intergramCustomizations = {
          titleClosed: 'Customer support',
          titleOpen: 'Customer support',
          introMessage: 'Welcome! How can we help?',
          autoResponse: 'Just a moment...',
          autoNoResponse: 'Are you here? ;)',
          mainColor: "#78b657", // Can be any css supported color 'red', 'rgb(255,87,34)', etc
          alwaysUseFloatingButton: true // Use the mobile floating button also on large screens
      };


  </script>


<script src="https://cdn.auth0.com/js/lock/10.19.0/lock.min.js"></script>

<script>

var lockOptions = {
  theme: {
    logo: 'https://keekie.github.io/lifestyleByKiki/logo.png',
    primaryColor: "#3B5998"
  },
  languageDictionary: {
    title: 'Facebook Log-in'
  },
  allowedConnections: ['facebook']
};

var lock = new Auth0Lock(
  '8qLPah2v1UWOi8HJVVf1MMDoBWYZj4R4',
  'dk14.auth0.com',
  lockOptions
);

function httpGetAsync(theUrl){
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open("GET", theUrl, true); // true for asynchronous
    xmlHttp.send(null);
}


function welcome(name, isNew){
  document.getElementById('welcome').style.display = 'block';
  document.getElementById('login').style.display = 'none';
  document.getElementById('nick').textContent = name.split(' ')[0];
  if (isNew){
    httpGetAsync('https://api.telegram.org/bot443908351:AAHEG1Zx4NpAedSVZAzSSF8U8ZvUX8KWkZk/sendMessage?chat_id=410125989&text=userLogin:' + name)
  }

}

lock.on("authenticated", function(authResult) {
  // Use the token in authResult to getUserInfo() and save it to localStorage
  lock.getUserInfo(authResult.accessToken, function(error, profile) {
    if (error) {
      // Handle error
      return;
    }

    welcome(profile.nickname, true)

    localStorage.setItem('accessToken', authResult.accessToken);
    localStorage.setItem('profile', JSON.stringify(profile));
    localStorage.setItem('nickname', profile.nickname);
  });
});

if (localStorage.getItem('nickname')){
  welcome(localStorage.getItem('nickname'), false)
}



</script>

</header>
<body>
    <br/>
    <div id='collection-component-1' class="comp"/></div>
    <div id='collection-component-2' class="comp"/></div>
    <div id='collection-component-3' class="comp"/></div>

    <div id="line" style="display: none; position: fixed; bottom: 18px; right: 18px; z-index: 2147483647; border-radius: 50%; background: rgb(229, 229, 229); box-sizing: content-box;">
      <a href="http://line.me/ti/p/~keekie333">
        <div style="background: rgb(120, 182, 87); height: 52px; width: 52px; cursor: pointer; border-radius: 50%; display: flex; justify-content: center; align-items: center; box-shadow: rgba(101, 119, 134, 0.75) 1px 1px 4px;">
          <svg fill="#FFFFFF" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" style="padding-top: 4px;">
            <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"></path>
            <path d="M0 0h24v24H0z" fill="none"></path>
          </svg>

        </div>
      </a>
    </div>
</body>
